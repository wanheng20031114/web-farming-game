# 🌾 Web Farming Game (wh！)

一个基于 Node.js 的全栈虚拟农场模拟游戏。V2 版本引入了全新的**现代化 UI**设计和充满互动的**偷菜社交系统**。

![Status](https://img.shields.io/badge/Status-Active-success)
![License](https://img.shields.io/badge/License-MIT-blue)

## ✨ 核心特色

### 1. 🚜 沉浸式种植体验
- **9x9 农田系统**：从荒地开始，逐步解锁并经营你的农场。
- **多样化作物**：种植小麦、草莓、南瓜等多种作物，每种作物有不同的生长周期（从几分钟到数小时）。
- **实时生长**：界面实时显示剩余成熟时间，规划你的收获节奏。

### 2. 📈 动态市场经济
- **价格波动**：市场行情瞬息万变！每 4 小时（伦敦时间）刷新一次价格倍率。
- **高买低卖**：观察市场倒计时，在价格高峰期出售作物以获取最大利润。
- **种子商店**：使用金币购买基础种子，开启致富之路。

### 3. 🤝 社交与偷菜系统 (NEW!)
- **邻居拜访**：查看服务器上的其他玩家列表，一键访问他们的农场。
- **互助（偷菜）**：发现邻居有成熟的作物？直接**偷走**！100% 的收益归你，对方徒留空地。
- **实时通知**：当你的作物被偷时，下次登录或刷新会收到显眼的弹窗通知：“*UserX 偷走了你的草莓！*”。

### 4. 🧚 二次元角色收藏
- **独一无二**：商店出售稀有的二次元角色卡片（如 Saber, 亚丝娜, 蕾姆等）。
- **唯一性机制**：一旦被某位玩家购买，该角色即从商店下架，成为绝版收藏，显示在拥有者的侧边栏中。

### 5. 🎨 现代化界面设计
- **Clean UI**：采用白色卡片风格，搭配柔和的阴影和亮色标签，视觉体验清爽舒适。
- **响应式布局**：农田网格自动适应屏幕大小，保证在任何设备上都有完美体验。

---

## 🛠️ 技术栈

- **后端**: Node.js, Express
- **数据库**: SQLite (通过 Sequelize ORM 管理)
- **前端**: 原生 HTML5, CSS3 (Grid/Flexbox), JavaScript (ES6+)
- **安全**: HTTPS 服务器 (尽管只是自签名证书，但还是建议使用 HTTPS)

---

## 🚀 快速开始

### 1. 安装依赖
确保已安装 Node.js，然后在项目根目录下运行：
```bash
npm install
```

### 2. 启动服务器
```bash
npm start
```
* 系统会自动初始化数据库 (`database/farming.sqlite`) 并同步最新的角色数据。
* 您将看到提示：`HTTPS 服务器运行在 https://localhost:40003`。

### 3. 开始游戏
在浏览器中打开：
**[https://localhost:40003](https://localhost:40003)**

> **注意**: 由于使用自签名证书，第一次访问时浏览器可能会提示“连接不安全”。请点击“高级” -> “继续前往 localhost” (接受风险) 即可。

---

## 🎮 玩法指南

1.  **注册/登录**: 在首页输入任意用户名和密码（新用户名自动注册）。
2.  **第一桶金**: 您有初始资金。点击“商店” -> “购买种子” -> 选中地块种植。
3.  **查看成熟时间**: 种植时和商店里都会显示作物的预计成熟时间 `⏱️ (1小时)`。
4.  **社交互动**: 点击顶部 `🌍 社交中心`，去邻居家逛逛，手慢无！
5.  **发家致富**: 积累金币，购买心仪的二次元角色，成为服务器首富！

---

## 📂 项目结构

```
web-farming-game/
├── public/             # 前端静态资源
│   ├── index.html      # 主页面
│   ├── style.css       # 样式表
│   ├── app.js          # 前端逻辑
│   └── images/         # 图片资源
├── server/             # 后端代码
│   ├── index.js        # 入口文件 & 启动逻辑
│   ├── database.js     # 数据库连接
│   ├── data.js         # 游戏数值配置 (角色/种子)
│   ├── models/         # SQL 数据模型
│   └── routes/         # API 路由接口
└── database/           # SQLite 数据库文件 (自动生成)
```
